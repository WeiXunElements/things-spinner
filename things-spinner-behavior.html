<link rel="import" href="../polymer/polymer.html">

<script>

window.Things = window.Things || {};

/**
 * `Things는 Window 변수이며 본 프램웍 자채 개발된 Behavior 전체가 해당 객체 Assign된다.`
 * `Things.SpinnerBehavior`
 * 
 * @polymerBehavior Things.SpinnerBehavior
 */

Things.SpinnerBehavior = {

  properties: {
    /**
     * 스피너 상태 확인 변수
     */
    spinnerState: {
      type: Boolean,
      value: false
    }

    /**
     * startSpinner method가 호출될때 발생된다.
     * @event things-start-spinner
     */

    /**
     * stopSpinner method가 호출될때 발생된다.
     * @event things-stop-spinner
     */
  },

  
  /**
   * 이벤트 things-start-spinner를 발생시긴다.
   */
  startSpinner: function() {
    if(!this.spinnerState) {
      this.spinnerState = true;
      var event = new CustomEvent('things-start-spinner', { 'detail': this });
      document.dispatchEvent(event);
    }
  },
  
  /**
   * 이벤트 things-stop-spinner 발생시긴다.
   * 
   * */
  stopSpinner: function() {
    if(this.spinnerState) {
      this.spinnerState = false;
      var event = new CustomEvent('things-stop-spinner', { 'detail': this });
      document.dispatchEvent(event);
    }
  },

  /**
   * Spinner상태에 따라서 Spinner의 상태를 바꾸어 준다.
   */
  toggleSpinner: function() {
    if(!this.spinnerState) {
      this.startSpinner();
    } else {
      this.stopSpinner();
    }
  }
};
</script>